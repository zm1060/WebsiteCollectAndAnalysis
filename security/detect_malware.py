from bs4 import BeautifulSoup
import re


def detect_malicious_content(webpage_content):
    # Perform content analysis to detect malicious content
    soup = BeautifulSoup(webpage_content, 'html.parser')

    # Example: Search for known malicious patterns
    malicious_patterns = ['恶意信息', 'malware', 'phishing']
    for pattern in malicious_patterns:
        if soup.find(text=re.compile(pattern, re.IGNORECASE)):
            return True

    return False


def detect_advertisements(webpage_content):
    # Perform content analysis to detect advertisements
    soup = BeautifulSoup(webpage_content, 'html.parser')

    # Example: Search for known advertisement patterns
    ad_patterns = ['广告', 'ad banner', 'sponsored']
    for pattern in ad_patterns:
        if soup.find(text=re.compile(pattern, re.IGNORECASE)):
            return True

    return False


# Example usage with webpage content
with open('webpage.html', 'r') as file:
    webpage_content = file.read()

is_malicious = detect_malicious_content(webpage_content)
is_advertisement = detect_advertisements(webpage_content)

if is_malicious:
    print("The webpage contains malicious content.")
else:
    print("The webpage does not contain malicious content.")

if is_advertisement:
    print("The webpage contains advertisements.")
else:
    print("The webpage does not contain advertisements.")
